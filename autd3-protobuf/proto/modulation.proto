syntax = "proto3";

package autd3;

import "utils.proto";
import "utils-lightweight.proto";

message Static { uint32 intensity = 1; }

message SineExact {
  SamplingConfig config = 1;
  float freq = 2;
  uint32 intensity = 3;
  uint32 offset = 4;
  Phase phase = 5;
}

message SineNearest {
  SamplingConfig config = 1;
  float freq = 2;
  uint32 intensity = 3;
  uint32 offset = 4;
  Phase phase = 5;
}

message SquareExact {
  SamplingConfig config = 1;
  float freq = 2;
  uint32 low = 3;
  uint32 high = 4;
  float duty = 5;
}

message SquareNearest {
  SamplingConfig config = 1;
  float freq = 2;
  uint32 low = 3;
  uint32 high = 4;
  float duty = 5;
}

message Modulation {
  oneof modulation {
    Static static = 1;
    SineExact sine_exact = 2;
    SineNearest sine_nearest = 3;
    SquareExact square_exact = 4;
    SquareNearest square_nearest = 5;
  }
  Segment segment = 1001;
  optional TransitionMode transition_mode = 1002;
  optional uint64 transition_value = 1003;
}